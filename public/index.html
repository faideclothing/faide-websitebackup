<!doctype html>
<html lang="en" class="h-full">
  <head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="google-site-verification" content="xHQMXeonHcUZ-NTHCrtvjlR9bojEkpwc8CzKChP7I9o" />

  <title>FAIDE™ | Luxury Streetwear Brand</title>
  <meta
    name="description"
    content="FAIDE™ luxury streetwear. New drops, exclusive releases, and curated essentials. Designed with intention. Worn with purpose."
  />
<!-- Open Graph / Social Preview -->
<meta property="og:type" content="website" />
<meta property="og:title" content="FAIDE™ | Luxury Streetwear Brand" />
<meta property="og:site_name" content="FAIDE™" />
<meta
  property="og:description"
  content="Luxury streetwear designed with intention. New drops, exclusive releases, and curated essentials."
/>
<meta property="og:url" content="https://faide-website.vercel.app/" />
<meta
  property="og:image"
  content="https://faide-website.vercel.app/images/hero.png"
/>
<meta property="og:image:width" content="1200" />
<meta property="og:image:height" content="630" />
<!-- Canonical URL -->
<link rel="canonical" href="https://faide-website.vercel.app/" />

<!-- Mobile browser color -->
<meta name="theme-color" content="#000000" />

<!-- OG image safety -->
<meta property="og:image:secure_url" content="https://faide-website.vercel.app/images/hero.png" />
<meta property="og:image:alt" content="FAIDE luxury streetwear hero image" />
<meta property="og:type" content="website" />
<meta property="og:locale" content="en_US" />

<!-- Twitter / X Preview -->
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:site" content="@faideclothing" />
<meta name="twitter:title" content="FAIDE® | Luxury Streetwear Brand" />
<meta
  name="twitter:description"
  content="Luxury streetwear designed with intention. New drops, exclusive releases, and curated essentials."
/>
<meta
  name="twitter:image"
  content="https://faide-website.vercel.app/images/hero.png"
/>

  <!-- Brand Structured Data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "ClothingBrand",
    "name": "FAIDE",
    "url": "https://faide-website.vercel.app",
    "logo": "https://faide-website.vercel.app/images/faide-wordmark.png",
    "description": "FAIDE is a luxury streetwear brand designed with intention and worn with purpose.",
    "sameAs": [
      "https://www.facebook.com/faideclothing",
      "https://www.instagram.com/faideclothing",
      "https://www.tiktok.com/@faideclothing",
      "https://x.com/faideclothing"
    ]
  }
  </script>

  <!-- Element SDK -->
  <script src="/_sdk/element_sdk.js"></script>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>

    <!-- Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800;900&display=swap"
      rel="stylesheet"
    />

    <style>
      :root{
        --bg: #000000;
        --surface: #111111;
        --text: #ffffff;
        --primary: #a855f7;
        --secondary: #9333ea;
        --muted: #888888;
        --muted2: #777777;
        --border: #1f1f1f;

        --nav-h: 86px;
        --container: 1200px;
        --px: 32px;
        --px-sm: 16px;

        --section-y: 110px;
        --section-y-sm: 78px;

        --h1: clamp(2.2rem, 6vw, 3.8rem);
        --h2: clamp(1.7rem, 4.4vw, 2.5rem);

        --card-radius: 18px;
        --img-radius: 14px;
      }

      * { margin: 0; padding: 0; box-sizing: border-box; }
      html { scroll-behavior: smooth; height: 100%; font-size: 16px; }
      body {
        background: var(--bg);
        color: var(--text);
        font-family: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
        overflow-x: hidden;
        height: 100%;
        width: 100%;
      }
      body.lock-scroll { overflow: hidden; }

      @media (max-width: 768px){
        html{ font-size: 15px; }
      }

      @keyframes fadeInUp {
        0% { opacity: 0; transform: translateY(20px); }
        100% { opacity: 1; transform: translateY(0); }
      }
      .fade-in-up { animation: fadeInUp 1s forwards; }
      .delay-1 { animation-delay: 0.3s; opacity: 0; }
      .delay-2 { animation-delay: 0.6s; opacity: 0; }
      .delay-3 { animation-delay: 0.9s; opacity: 0; }

      /* =========================================================
         ✅ Tap / Click lift (no glow)
      ========================================================= */
      .tap-lift{
        transition: transform 0.14s ease;
        will-change: transform;
      }
      .tap-lift:active{
        transform: translateY(-2px);
      }
      @media (hover:hover) and (pointer:fine){
        .tap-lift:hover{
          transform: translateY(-2px);
        }
        .tap-lift:active{
          transform: translateY(-3px);
        }
      }

      /* =========================================================
         NAVBAR
      ========================================================= */
      .navbar {
        position: fixed;
        top: 0; left: 0; right: 0;
        width: 100%;
        height: var(--nav-h);
        background: rgba(0, 0, 0, 0.95);
        backdrop-filter: blur(10px);
        border-bottom: 1px solid var(--border);
        z-index: 1000;
        transition: all 0.25s ease;
        padding: 0 var(--px);
        display: flex;
        align-items: center;
      }

      .faide-wordmark-img {
        height: 32px;
        width: auto;
        display: block;
        user-select: none;
        transition: transform 0.25s ease;
      }

      .nav-links {
        display: flex;
        align-items: center;
        gap: 18px; /* keep spacing */
      }

      /* ✅ Navbar: remove purple sliding stripe on hover, keep active underline only */
      .nav-links a {
        font-size: 0.10rem;
        letter-spacing: 1px;
        text-transform: uppercase;
        color: var(--muted);
        text-decoration: none;
        transition: color 0.25s ease, transform 0.14s ease;
        position: relative;
        white-space: nowrap;
        padding: 12px 0; /* bigger tap target */
        line-height: 1;
      }

      .nav-links a:hover { color: var(--secondary); transform: translateY(-2px); }
      .nav-links a::after {
        content: "";
        position: absolute;
        bottom: 6px;
        left: 0;
        width: 0; /* no hover slide */
        height: 2px;
        background: transparent;
        transition: none;
      }
      .nav-links a:hover::after { width: 0; } /* ensure no hover stripe */

      .nav-links a.active { color: var(--primary); }
      .nav-links a.active::after { width: 100%; background: var(--primary); }

      .navbar.shrink {
        height: 72px;
        background: rgba(0, 0, 0, 0.98);
        border-bottom-color: #2a2a2a;
      }
      .navbar.shrink .faide-wordmark-img { transform: scale(0.93); transform-origin: left center; }

      #drop, #lookbook, #shop, #about, #footer { scroll-margin-top: calc(var(--nav-h) + 18px); }

      @media (max-width: 768px) {
        .navbar { padding: 0 var(--px-sm); }
        .faide-wordmark-img { height: 22px; }

        .nav-links {
          gap: 10px;
          overflow-x: auto;
          -webkit-overflow-scrolling: touch;
          scrollbar-width: none;
          max-width: 68vw;
        }
        .nav-links::-webkit-scrollbar { display: none; }
        .nav-links a { font-size: 0.62rem; letter-spacing: 0.8px; color: #777; padding: 12px 0; }
      }

      /* =========================================================
         SECTION SPACING
      ========================================================= */
      .hero,
      .lookbook,
      .shop,
      .about{
        padding-top: var(--section-y);
        padding-bottom: var(--section-y);
      }

      .hero{
        padding-top: calc(var(--nav-h) + 70px);
        padding-bottom: 100px;
      }

      @media (max-width: 768px){
        .hero, .lookbook, .shop, .about{
          padding-top: var(--section-y-sm);
          padding-bottom: var(--section-y-sm);
        }
        .hero{
          padding-top: calc(var(--nav-h) + 44px);
          padding-bottom: 70px;
        }
      }

      /* =========================================================
         HERO
      ========================================================= */
      .hero {
        min-height: 80%;
        display: flex;
        align-items: center;
        justify-content: center;
        text-align: center;
        flex-direction: column;
        position: relative;
        overflow: hidden;
        padding-left: var(--px);
        padding-right: var(--px);
      }

      /* ✅ Hero: full image background hero.png, remove purple background glow */
      .hero-bg {
        position: absolute;
        inset: 0;
        background: url("/images/hero.png") center/cover no-repeat;
        opacity: 1;
        filter: saturate(1) contrast(1.02);
        pointer-events: none;
      }
      .hero-bg::after{
        content:"";
        position:absolute;
        inset:0;
        background: radial-gradient(80% 60% at 50% 40%, rgba(0,0,0,0.55), rgba(0,0,0,0.82) 70%, rgba(0,0,0,0.93));
      }

      .hero-content{ max-width: 900px; margin: 0 auto; }

      .hero-title {
        font-size: var(--h1);
        font-weight: 800;
        color: var(--primary);
        text-transform: uppercase;
        letter-spacing: 0.05em;
        position: relative;
        text-shadow: none; /* ✅ remove purple glow */
        line-height: 1.05;
      }

      .hero-text {
        max-width: 58ch;
        margin: 18px auto 0;
        color: #aaa;
        line-height: 1.6;
        font-size: 1.05rem;
      }

      .social-icon {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        width: 48px;
        height: 48px;
        border-radius: 50%;
        background: #111;
        color: #888;
        margin: 0 8px;
        transition: transform 0.14s ease, background 0.25s ease, color 0.25s ease, border-color 0.25s ease;
        border: 1px solid #222;
      }

      .social-icon:hover {
        background: var(--secondary);
        color: #fff;
        transform: translateY(-2px) scale(1.04); /* lift without glow */
        border-color: var(--secondary);
        box-shadow: none; /* ✅ no glow */
      }

      .primary-btn {
        background: linear-gradient(135deg, var(--secondary) 0%, var(--primary) 100%);
        border: none;
        padding: 18px 48px;
        border-radius: 50px;
        color: #fff;
        font-weight: 700;
        cursor: pointer;
        margin-top: 28px;
        transition: transform 0.14s ease, background 0.25s ease, color 0.25s ease;
        text-transform: uppercase;
        letter-spacing: 1px;
        font-size: 0.9rem;
        box-shadow: none; /* ✅ remove glow */
      }

      .primary-btn:hover {
        background: #fff;
        color: #000;
        transform: translateY(-2px);
        box-shadow: none;
      }
      .primary-btn:active { transform: translateY(-3px); }

      @media (max-width: 768px){
        .hero{ padding-left: var(--px-sm); padding-right: var(--px-sm); }
        .hero-title{ font-size: 2rem; }
      }

      /* =========================================================
         TITLES
      ========================================================= */
      .section-title {
        font-size: var(--h2);
        margin-bottom: 22px;
        font-weight: 800;
        letter-spacing: 0.02em;
      }
      .purple-title {
        color: var(--primary);
        text-shadow: none; /* keep clean */
      }

      .aligned-title {
        max-width: var(--container);
        margin: 0 auto;
        padding-left: var(--px);
        padding-right: var(--px);
      }
      @media (max-width: 768px){
        .aligned-title{ padding-left: var(--px-sm); padding-right: var(--px-sm); }
      }

      /* =========================================================
         LOOKBOOK
      ========================================================= */
      .lookbook { padding-left: 0; padding-right: 0; }

      .vertical-list {
        max-width: none;
        margin: 26px 0 0;
        padding: 0;
        display: flex;
        flex-direction: column;
        gap: 26px;
      }

      .lookbook-card {
        border-radius: 0;
        overflow: hidden;
        position: relative;
        cursor: pointer;
        background: #000;
        height: 440px;
        box-shadow: none;
        transition: none;
        width: 100%;
      }

      .lookbook-card::before {
        content: "";
        position: absolute;
        inset: 0;
        background: linear-gradient(180deg, transparent 0%, rgba(0, 0, 0, 0.75) 100%);
        z-index: 1;
        pointer-events: none;
      }

      /* ✅ remove "Look 1 / Look 2" text overlays */
      .lookbook-card-title{ display:none !important; }

      .lookbook-img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        display: block;
        filter: none;
        border-radius: 0;
      }

      @media (max-width: 768px) {
        .vertical-list { padding: 0; gap: 18px; }
        .lookbook-card { height: 320px; }
      }

      /* =========================================================
         ✅ FULLSCREEN PAGES (Lookbook + Product) — replaces popups
      ========================================================= */
      .fs-page{
        position: fixed;
        inset: 0;
        background: rgba(0,0,0,0.96);
        z-index: 2600;
        display: none;
        flex-direction: column;
      }
      .fs-page.active{ display:flex; }

      .fs-topbar{
        display:flex;
        align-items:center;
        justify-content:space-between;
        gap: 14px;
        padding: 18px 18px;
        border-bottom: 1px solid rgba(255,255,255,0.08);
        background: rgba(10,10,10,0.60);
        backdrop-filter: blur(10px);
      }
      .fs-meta{
        display:flex;
        flex-direction:column;
        gap:4px;
        min-width:0;
      }
      .fs-title{
        font-weight: 900;
        color: var(--primary);
        letter-spacing: 0.04em;
        text-transform: uppercase;
        font-size: 0.95rem;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }
      .fs-subtitle{
        color:#888;
        font-size: 0.85rem;
        font-weight: 700;
      }

      .fs-btn{
        border: 1px solid rgba(255,255,255,0.14);
        background: rgba(255,255,255,0.03);
        color:#fff;
        padding: 10px 14px;
        border-radius: 999px;
        cursor:pointer;
        transition: transform 0.14s ease, background 0.2s ease, border-color 0.2s ease;
        font-weight: 800;
        letter-spacing: 0.02em;
        display:inline-flex;
        align-items:center;
        gap: 8px;
        box-shadow:none; /* ✅ no glow */
      }
      .fs-btn:hover{
        background: rgba(255,255,255,0.08);
        border-color: rgba(255,255,255,0.24);
        transform: translateY(-2px);
      }
      .fs-btn:active{ transform: translateY(-3px); }

      .fs-body{
        flex:1;
        overflow:hidden;
        display:flex;
        align-items:stretch;
        justify-content:center;
      }

      /* Lookbook page (zoom/pinch) */
      #lookbook-page .fs-body{
        padding: 0;
      }
      .lb-viewport{
        width: 100vw;
        height: calc(100vh - 72px);
        position: relative;
        overflow: hidden;
        touch-action: pan-x pan-y;
        background: transparent;
      }
      .lb-img{
        width: 100%;
        height: 100%;
        object-fit: contain;
        display:block;
        transform-origin: center center;
        transform: translate3d(0,0,0) scale(1);
        transition: transform 120ms ease;
        user-select: none;
        -webkit-user-drag: none;
        cursor: zoom-in;
      }
      .lb-img.zoomed{ cursor: grab; }
      .lb-img.zoomed:active{ cursor: grabbing; }

      /* Product page layout */
      #product-page .fs-body{
        overflow-y: auto;
        -webkit-overflow-scrolling: touch;
        padding: 14px 14px 22px;
        scrollbar-width: none; /* hide scroll indicator */
      }
      #product-page .fs-body::-webkit-scrollbar{ width:0; height:0; }

      .pm-wrap{
        width: min(760px, 94vw);
        margin: 0 auto;
        display: grid;
        grid-template-rows: auto auto;
        gap: 14px;
      }
      .pm-media{
        display: grid;
        grid-template-rows: 1fr auto;
        gap: 14px;
        width: 100%;
      }
      .pm-image-shell{
        height: min(54vh, 520px);
        overflow: hidden;
        background: #000;
        border: none;
        border-radius: 0;
      }
      .pm-image-shell img{
        width: 100%;
        height: 100%;
        object-fit: contain;
        display: block;
      }

      .thumb-row{
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 12px;
        margin-top: 10px;
        margin-bottom: 6px;
      }
      .thumb{
        height: 74px;
        border-radius: 0;
        overflow: hidden;
        border: 1px solid rgba(255,255,255,0.12);
        background: rgba(255,255,255,0.02);
        cursor: pointer;
        transition: transform 0.14s ease, border-color 0.18s ease;
        display:flex;
        align-items:center;
        justify-content:center;
        padding:0;
      }
      .thumb:active{ transform: translateY(-2px); }
      .thumb img{
        width:100%;
        height:100%;
        object-fit: cover;
        display:block;
        user-select:none;
        -webkit-user-drag:none;
        pointer-events:none;
      }
      .thumb.active{ border-color: rgba(168,85,247,0.95); }

      /* =========================================================
         ✅ SHOP
      ========================================================= */
      .shop { margin: 0; }

      .horizontal-scroll {
        max-width: var(--container);
        margin: 0 auto;
        display: flex;
        overflow-x: auto;
        gap: 24px;
        scroll-behavior: smooth;
        scroll-snap-type: x mandatory;
        padding: 26px var(--px);
        scrollbar-width: thin;
        scrollbar-color: rgba(255,255,255,0.10) transparent;
      }

      .horizontal-scroll::-webkit-scrollbar { height: 6px; }
      .horizontal-scroll::-webkit-scrollbar-track { background: transparent; }
      .horizontal-scroll::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.10); border-radius: 999px; }

      @media (max-width: 768px){
        .horizontal-scroll{
          display: grid;
          grid-template-columns: repeat(2, minmax(0, 1fr));
          overflow-x: visible;
          scroll-snap-type: none;
          gap: 16px;
          padding: 26px var(--px-sm);
        }
      }

      .product {
        min-width: 420px;
        padding: 0;
        color: #fff;
        text-align: left;
        display: flex;
        flex-direction: column;
        scroll-snap-align: center;
        cursor: pointer;
        border-radius: 0;
        position: relative;
        background: transparent;
        border: none;
        box-shadow: none;
        transition: none;
      }

      .product-img-container {
        width: 100%;
        height: 360px;
        overflow: hidden;
        display: flex;
        align-items: center;
        justify-content: center;
        position: relative;
        margin-bottom: 14px;
        border-radius: 0;
        border: none;
        background: transparent;
        touch-action: pan-y;
      }

      .product-img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        display: block;
        padding: 0;
        transition: opacity 160ms ease;
        filter: none;
        user-select: none;
        -webkit-user-drag: none;
      }

      .img-pager{ display:none !important; }
      .img-dot{ display:none !important; }
      .product [data-thumb-row]{ display: none !important; }

      @media (max-width: 768px){
        .product{ min-width: 0; }
        .product-img-container{ height: 220px; }
      }

      .product-info { padding: 10px 0 6px; }

      .product-label {
        font-size: 0.78rem;
        color: var(--primary);
        font-weight: 900;
        margin-bottom: 8px;
        text-transform: uppercase;
        letter-spacing: 1.15px;
        opacity: 0.95;
        text-shadow: none;
      }

      .product-header {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        margin-bottom: 10px;
        gap: 12px;
      }

      .product-name-wrapper { flex: 1; }

      .product h3 {
        font-size: 1.05rem;
        margin: 0 0 6px 0;
        font-weight: 800;
        color: #fff;
        line-height: 1.35;
      }

      .product-category,
      .product-colors-count {
        font-size: 0.95rem;
        color: #9a9a9a;
        font-weight: 600;
        margin-bottom: 10px;
      }

      .price {
        font-size: 1.05rem;
        color: #fff;
        font-weight: 900;
        white-space: nowrap;
        flex-shrink: 0;
        opacity: 0.95;
      }

      .options {
        margin: 16px 0 0 0;
        opacity: 0;
        max-height: 0;
        overflow: hidden;
        transform: translateY(-6px);
        transition: opacity 0.25s ease, max-height 0.35s ease, transform 0.25s ease;
      }

      .product.expanded .options {
        opacity: 1;
        max-height: 520px;
        transform: translateY(0);
      }

      @media (hover: none) and (pointer: coarse) {
        .options { display: none !important; }
        .product { cursor: default; }
      }

      .option-label {
        font-size: 0.84rem;
        color: #fff;
        font-weight: 900;
        margin-bottom: 10px;
        letter-spacing: 0.02em;
      }

      .sizes {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 8px;
        margin-bottom: 18px;
      }

      .size-btn {
        height: 42px;
        border-radius: 12px;
        background: rgba(255,255,255,0.03);
        color: #b5b5b5;
        border: 1px solid rgba(255,255,255,0.14);
        cursor: pointer;
        transition: transform 0.14s ease, border-color 0.18s ease, color 0.18s ease, background 0.18s ease;
        font-weight: 800;
        font-size: 0.95rem;
        box-shadow:none;
      }

      .size-btn:hover:not(.selected) {
        border-color: rgba(168,85,247,0.4);
        color: #fff;
        transform: translateY(-2px);
      }
      .size-btn:active{ transform: translateY(-3px); }

      .size-btn.selected {
        background: linear-gradient(135deg, var(--secondary) 0%, var(--primary) 100%);
        color: #fff;
        border-color: rgba(168,85,247,0.85);
        box-shadow: none; /* ✅ no glow */
        transform: translateY(-1px);
      }

      .colors { display: flex; gap: 10px; margin-bottom: 18px; }

      .color {
        width: 38px;
        height: 38px;
        border-radius: 999px;
        cursor: pointer;
        transition: transform 0.14s ease, border-color 0.18s ease;
        border: 2px solid transparent;
        position: relative;
        box-shadow:none;
      }

      .color::after {
        content: "✓";
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%) scale(0);
        color: #fff;
        font-weight: 900;
        font-size: 0.95rem;
        transition: transform 0.18s ease;
      }

      .color:hover { transform: translateY(-2px) scale(1.04); box-shadow:none; }
      .color:active{ transform: translateY(-3px) scale(1.05); }

      .color.selected {
        border-color: rgba(168,85,247,0.95);
        transform: translateY(-1px) scale(1.03);
        box-shadow: none;
      }
      .color.selected::after { transform: translate(-50%, -50%) scale(1); }

      .color.black { background: #000; border: 2px solid rgba(255,255,255,0.70); }
      .color.white { background: #fff; border: 2px solid rgba(255,255,255,0.70); }
      .color.white::after { color: #000; }
      .color.grey { background: #666; }

      /* =========================================================
         ✅ Quantity Stepper — PILL (no glow)
      ========================================================= */
      .qty-stepper-ui{
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 12px;
        width: 100%;
        padding: 10px 12px;
        border-radius: 999px;
        background: rgba(255,255,255,0.035);
        border: 1px solid rgba(255,255,255,0.14);
      }
      .qty-stepper-ui .qty-btn-ui{
        width: 44px;
        height: 40px;
        border-radius: 999px;
        border: 1px solid rgba(255,255,255,0.14);
        background: rgba(255,255,255,0.02);
        color: #fff;
        cursor: pointer;
        font-weight: 950;
        font-size: 1.2rem;
        line-height: 1;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        user-select: none;
        transition: transform 0.14s ease, background 0.2s ease, border-color 0.2s ease;
        box-shadow:none;
      }
      .qty-stepper-ui .qty-btn-ui:hover{
        background: rgba(255,255,255,0.06);
        border-color: rgba(255,255,255,0.22);
        transform: translateY(-2px);
      }
      .qty-stepper-ui .qty-btn-ui:active{ transform: translateY(-3px); }
      .qty-stepper-ui .qty-value-ui{
        flex: 1;
        text-align: center;
        font-size: 1.05rem;
        font-weight: 950;
        color: #fff;
        user-select: none;
      }

      .quantity-wrapper {
        display: flex;
        align-items: center;
        gap: 12px;
        margin-bottom: 18px;
      }

      .quantity{ display:none !important; }

      .secondary-btn {
        background: linear-gradient(135deg, var(--secondary) 0%, var(--primary) 100%);
        border: 1px solid rgba(255,255,255,0.10);
        padding: 16px 24px;
        border-radius: 999px;
        color: #fff;
        font-weight: 950;
        cursor: pointer;
        transition: transform 0.14s ease, filter 0.2s ease;
        font-size: 0.92rem;
        width: 100%;
        text-transform: uppercase;
        letter-spacing: 1px;
        box-shadow: none; /* ✅ no glow */
      }

      .secondary-btn:hover {
        transform: translateY(-2px);
        filter: brightness(1.06);
        box-shadow: none;
      }
      .secondary-btn:active { transform: translateY(-3px); }

      .secondary-btn:disabled{
        opacity: 0.45;
        cursor: not-allowed;
        transform: none !important;
        filter: none !important;
        box-shadow: none !important;
        background: #222 !important;
        color: #777 !important;
        border-color: rgba(255,255,255,0.08) !important;
      }

      /* =========================================================
         DIVIDER (between Shop and About)
      ========================================================= */
      .section-divider{
        height: 1px;
        background: rgba(255,255,255,0.10);
        max-width: var(--container);
        margin: 0 auto;
      }
      @media (max-width: 768px){
        .section-divider{ margin: 0 var(--px-sm); }
      }

      /* =========================================================
         ABOUT
      ========================================================= */
      .about {
        max-width: 900px;
        margin: 0 auto;
        padding-left: var(--px);
        padding-right: var(--px);
      }

      .about p {
        color: #aaa;
        line-height: 1.8;
        font-size: 1.05rem;
        max-width: 70ch;
      }

      .about-contact {
        margin-top: 18px;
        padding-top: 0;
        border-top: none;
        display: grid;
        gap: 10px;
        max-width: 720px;
      }

      .about-contact h4{
        color: var(--primary);
        font-size: 0.95rem;
        font-weight: 800;
        text-transform: uppercase;
        letter-spacing: 1px;
        margin: 0 0 6px 0;
        text-shadow: none;
      }

      .about-contact a{
        color: var(--muted);
        text-decoration:none;
        width: fit-content;
        transition: transform 0.14s ease, color 0.25s ease;
      }
      .about-contact a:hover{ color: var(--secondary); transform: translateY(-2px); }
      .about-contact a:active{ transform: translateY(-3px); }

      @media (max-width: 768px){
        .about{ padding-left: var(--px-sm); padding-right: var(--px-sm); }
      }

      /* =========================================================
         FOOTER
      ========================================================= */
      footer a { transition: transform 0.14s ease, color 0.25s ease; }
      footer a:hover { color: var(--secondary); transform: translateY(-2px); }
      footer a:active { transform: translateY(-3px); }

      .footer-legal {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 16px;
        padding-top: 0;
        border-top: none;
      }

      .footer-legal-top {
        display: flex;
        align-items: center;
        justify-content: center;
        flex-wrap: wrap;
        text-align: center;
        gap: 0;
        line-height: 1.4; /* tighter */
      }

      .footer-legal-link {
        color: var(--muted2);
        font-size: 0.75rem;
        text-decoration: none;
      }

      /* ✅ Footer policy spacing = 0.5rem */
      .footer-sep{
        color: #666;
        padding: 0 0.5rem; /* 0.5 spacing */
        user-select: none;
      }

      .footer-legal-mid { text-align: center; }

      .footer-legal-mid a {
        color: var(--muted2);
        font-size: 0.99em;
        text-decoration: none;
      }

      @media (max-width:768px){
        footer#footer{ padding-left: var(--px-sm) !important; padding-right: var(--px-sm) !important; }
        .footer-legal-top{ max-width: 360px; }
      }

      /* =========================================================
         FLOATING CART
      ========================================================= */
      .floating-cart {
        position: fixed;
        bottom: 32px;
        right: 32px;
        width: 64px;
        height: 64px;
        border-radius: 50%;
        background: linear-gradient(135deg, var(--secondary) 0%, var(--primary) 100%);
        color: #fff;
        border: none;
        cursor: pointer;
        box-shadow: none; /* ✅ no glow */
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 1500;
        transition: transform 0.14s ease;
      }

      .floating-cart:hover { transform: translateY(-2px) scale(1.04); box-shadow:none; }
      .floating-cart:active { transform: translateY(-3px) scale(1.05); }

      .cart-count {
        position: absolute;
        top: 0;
        right: 0;
        background: #ef4444;
        color: #fff;
        border-radius: 50%;
        width: 24px;
        height: 24px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 0.75rem;
        font-weight: 700;
        border: 2px solid #000;
      }

      .cart-overlay {
        position: fixed;
        inset: 0;
        background: rgba(0,0,0,0.55);
        z-index: 1900;
        opacity: 0;
        pointer-events: none;
        transition: opacity 0.25s ease;
      }
      .cart-overlay.active { opacity: 1; pointer-events: auto; }

      .cart-sidebar {
        position: fixed;
        top: 0;
        right: -400px;
        width: 400px;
        height: 100%;
        background: #0a0a0a;
        box-shadow: none; /* ✅ no glow */
        z-index: 2000;
        transition: right 0.4s ease;
        display: flex;
        flex-direction: column;
        border-left: 1px solid var(--border);
      }
      .cart-sidebar.active { right: 0; }

      .cart-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 24px;
        border-bottom: 1px solid var(--border);
        background: var(--surface);
      }

      .cart-header h2 {
        font-size: 1.5rem;
        font-weight: 700;
        color: var(--primary);
        margin: 0;
      }

      .close-cart {
        background: transparent;
        border: none;
        color: #888;
        cursor: pointer;
        padding: 8px;
        transition: transform 0.14s ease, color 0.25s ease, background 0.25s ease;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 8px;
      }
      .close-cart:hover { color: #fff; background: #1a1a1a; transform: translateY(-2px); }
      .close-cart:active{ transform: translateY(-3px); }

      .cart-items {
        flex: 1;
        overflow-y: auto;
        padding: 24px;
        list-style: none;
      }

      .cart-item {
        background: var(--surface);
        padding: 14px;
        margin-bottom: 12px;
        border-radius: 14px;
        color: #fff;
        border: 1px solid var(--border);
        display: grid;
        grid-template-columns: 66px 1fr auto;
        gap: 12px;
        align-items: center;
        transition: border-color 0.2s ease, transform 0.14s ease, background 0.2s ease;
      }

      .cart-item:hover {
        border-color: rgba(255,255,255,0.14);
        background: #141414;
        transform: translateY(-2px);
      }

      .cart-item-img {
        width: 66px;
        height: 66px;
        border-radius: 12px;
        border: 1px solid rgba(255,255,255,0.08);
        background: rgba(255,255,255,0.02);
        object-fit: cover;
        padding: 0;
      }

      .cart-item-title {
        font-weight: 800;
        font-size: 0.95rem;
        line-height: 1.2;
        margin-bottom: 6px;
      }

      .cart-item-meta {
        font-size: 0.84rem;
        color: #9a9a9a;
        line-height: 1.25;
      }

      .cart-item-actions {
        display: flex;
        flex-direction: column;
        gap: 10px;
        align-items: flex-end;
        justify-content: center;
      }

      .qty-stepper{
        display: inline-flex;
        align-items: center;
        border-radius: 999px;
        padding: 1px;
        background: rgba(255,255,255,0.04);
        box-shadow: none;
        border: 1px solid rgba(255,255,255,0.14);
      }
      .qty-stepper-inner{
        display: inline-flex;
        align-items: center;
        border-radius: 999px;
        overflow: hidden;
        background: rgba(0,0,0,0.55);
        border: 1px solid rgba(255,255,255,0.10);
      }
      .qty-btn{
        width: 34px;
        height: 32px;
        border: none;
        background: transparent;
        color: #fff;
        cursor: pointer;
        transition: transform 0.14s ease, background 0.2s ease;
        font-weight: 950;
        font-size: 1.05rem;
        line-height: 1;
      }
      .qty-btn:hover{ background: rgba(255,255,255,0.08); transform: translateY(-2px); }
      .qty-btn:active{ transform: translateY(-3px); }
      .qty-value{
        width: 38px;
        text-align: center;
        font-weight: 950;
        font-size: 0.95rem;
        color: #fff;
        user-select: none;
      }

      .qty-stepper .qty-btn:focus,
      .qty-stepper .qty-btn:focus-visible{
        outline: none;
        box-shadow: none;
      }

      .remove-btn {
        border: none;
        background: transparent;
        color: #aaa;
        cursor: pointer;
        font-size: 0.85rem;
        font-weight: 700;
        transition: transform 0.14s ease, color 0.2s ease;
      }
      .remove-btn:hover { color: #ef4444; transform: translateY(-2px); }
      .remove-btn:active{ transform: translateY(-3px); }

      .cart-item-price {
        font-weight: 900;
        color: var(--primary);
        font-size: 0.95rem;
      }

      .cart-items::-webkit-scrollbar { width: 6px; }
      .cart-items::-webkit-scrollbar-track { background: var(--surface); }
      .cart-items::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.12); border-radius: 10px; }

      .cart-footer {
        padding: 24px;
        border-top: 1px solid var(--border);
        background: var(--surface);
      }

      .cart-total-row {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 20px;
        font-size: 1.3rem;
      }

      .cart-total-label { font-weight: 700; color: #888; }

      .cart-total-value {
        font-weight: 700;
        color: var(--primary);
        font-size: 1.5rem;
      }

      .checkout-btn {
        width: 100%;
        background: linear-gradient(135deg, var(--secondary) 0%, var(--primary) 100%);
        border: none;
        padding: 16px;
        border-radius: 50px;
        color: #fff;
        font-weight: 700;
        cursor: pointer;
        transition: transform 0.14s ease, background 0.25s ease, color 0.25s ease;
        text-transform: uppercase;
        letter-spacing: 1px;
        font-size: 0.9rem;
        box-shadow:none;
      }

      .checkout-btn:hover {
        background: #fff;
        color: #000;
        transform: translateY(-2px);
      }
      .checkout-btn:active{ transform: translateY(-3px); }

      .checkout-btn:disabled{
        opacity: 0.45;
        cursor: not-allowed;
        transform: none !important;
        background: #222 !important;
        color: #777 !important;
      }

      .cart-toast {
        position: fixed;
        bottom: 110px;
        right: 32px;
        background: linear-gradient(135deg, var(--secondary) 0%, var(--primary) 100%);
        color: #fff;
        padding: 16px 24px;
        border-radius: 12px;
        box-shadow: none; /* ✅ no glow */
        transform: translateY(200px);
        transition: transform 0.4s ease;
        z-index: 2200;
        display: flex;
        align-items: center;
        gap: 12px;
        font-weight: 600;
      }
      .cart-toast.show { transform: translateY(0); }

      @media (max-width: 768px) {
        .cart-sidebar { width: 100%; right: -100%; }
        .floating-cart { bottom: 24px; right: 24px; width: 56px; height: 56px; }

        .cart-toast {
          bottom: 100px;
          right: 24px;
          left: 24px;
          max-width: calc(100% - 48px);
        }

        .cart-item{
          grid-template-columns: 58px 1fr;
          grid-template-areas:
            "img info"
            "img actions";
        }
        .cart-item-img{ grid-area: img; width:58px; height:58px; }
        .cart-item-info{ grid-area: info; }
        .cart-item-actions{ grid-area: actions; align-items:flex-start; flex-direction: row; justify-content: space-between; }
      }
    </style>

    <style>@view-transition { navigation: auto; }</style>
  </head>

  <body class="h-full w-full">
    <!-- NAVBAR -->
    <nav class="navbar flex justify-between items-center">
      <a href="#drop" aria-label="FAIDE Home" style="display:flex; align-items:center; gap:10px; text-decoration:none;" class="tap-lift">
        <img src="/images/faide-wordmark.png" alt="FAIDE" class="faide-wordmark-img" id="brand-wordmark" />
      </a>

      <div class="nav-links">
        <a href="#drop" class="tap-lift">NEW DROP</a>
        <a href="#lookbook" class="tap-lift">LOOKBOOK</a>
        <a href="#shop" class="tap-lift">SHOP</a>
        <a href="#about" class="tap-lift">ABOUT</a>
      </div>
    </nav>

    <!-- HERO -->
    <section id="drop" class="hero">
      <div class="hero-bg" aria-hidden="true"></div>

      <div class="hero-content" style="position: relative; z-index: 1;">
        <h2 class="hero-title fade-in-up delay-1" id="hero-title">NEW DROP</h2>
        <p class="hero-text fade-in-up delay-2" id="hero-description">
          New drops, exclusive releases, and updates are announced on our social platforms.
        </p>

        <div class="hero-social-icons fade-in-up delay-2" style="margin: 32px 0;">
          <a href="https://instagram.com/faideclothing" target="_blank" rel="noopener noreferrer" class="social-icon tap-lift" aria-label="Instagram">
            <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
              <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/>
            </svg>
          </a>

          <a href="https://facebook.com/faideclothing" target="_blank" rel="noopener noreferrer" class="social-icon tap-lift" aria-label="Facebook">
            <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
              <path d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z"/>
            </svg>
          </a>

          <a href="https://twitter.com/faideclothing" target="_blank" rel="noopener noreferrer" class="social-icon tap-lift" aria-label="X">
            <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
              <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
            </svg>
          </a>

          <a href="https://tiktok.com/@faideclothing" target="_blank" rel="noopener noreferrer" class="social-icon tap-lift" aria-label="TikTok">
            <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
              <path d="M19.59 6.69a4.83 4.83 0 0 1-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 0 1-5.2 1.74 2.89 2.89 0 0 1 2.31-4.64 2.93 2.93 0 0 1 .88.13V9.4a6.84 6.84 0 0 0-1-.05A6.33 6.33 0 0 0 5 20.1a6.34 6.34 0 0 0 10.86-4.43v-7a8.16 8.16 0 0 0 4.77 1.52v-3.4a4.85 4.85 0 0 1-1-.1z"/>
            </svg>
          </a>
        </div>

        <button class="primary-btn fade-in-up delay-3 tap-lift" id="shop-now-btn">Shop Now</button>
      </div>
    </section>

    <!-- LOOKBOOK -->
    <section id="lookbook" class="lookbook">
      <h2 class="section-title purple-title aligned-title">Lookbook</h2>

      <div class="vertical-list">
        <div class="lookbook-card tap-lift" role="button" tabindex="0" aria-label="Open Lookbook 1" data-lookbook-src="/images/lookbook1.png">
          <img src="/images/lookbook1.png" alt="FAIDE Lookbook 1" class="lookbook-img" />
          <h3 class="lookbook-card-title">Look 1</h3>
        </div>

        <div class="lookbook-card tap-lift" role="button" tabindex="0" aria-label="Open Lookbook 2" data-lookbook-src="/images/lookbook2.png">
          <img src="/images/lookbook2.png" alt="FAIDE Lookbook 2" class="lookbook-img" />
          <h3 class="lookbook-card-title">Look 2</h3>
        </div>
      </div>
    </section>

    <!-- ✅ FULLSCREEN LOOKBOOK PAGE (replaces modal) -->
    <div id="lookbook-page" class="fs-page" aria-hidden="true" role="dialog" aria-label="Lookbook full screen">
      <div class="fs-topbar">
        <div class="fs-meta">
          <div class="fs-title" id="lb-title">LOOKBOOK</div>
          <div class="fs-subtitle" id="lb-subtitle">1 / 2</div>
        </div>

        <button type="button" class="fs-btn tap-lift" id="lb-close" aria-label="Close lookbook">
          Close
          <svg width="18" height="18" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
            <path d="M23.954 21.03l-9.184-9.095 9.092-9.174-2.832-2.807-9.09 9.179-9.176-9.088-2.81 2.81 9.186 9.105-9.095 9.184 2.81 2.81 9.112-9.192 9.18 9.1z"/>
          </svg>
        </button>
      </div>

      <div class="fs-body">
        <div class="lb-viewport" id="lb-viewport">
          <img id="lb-img" class="lb-img" alt="Lookbook image" src="" />
        </div>
      </div>
    </div>

    <!-- ✅ FULLSCREEN PRODUCT PAGE (replaces modal) -->
    <div id="product-page" class="fs-page" aria-hidden="true" role="dialog" aria-label="Product full screen">
      <div class="fs-topbar">
        <div class="fs-meta">
          <div class="fs-title">PRODUCT</div>
          <div class="fs-subtitle" id="pp-subtitle">1 / 1</div>
        </div>

        <button type="button" class="fs-btn tap-lift" id="pp-close" aria-label="Close product">
          Close
          <svg width="18" height="18" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
            <path d="M23.954 21.03l-9.184-9.095 9.092-9.174-2.832-2.807-9.09 9.179-9.176-9.088-2.81 2.81 9.186 9.105-9.095 9.184 2.81 2.81 9.112-9.192 9.18 9.1z"/>
          </svg>
        </button>
      </div>

      <div class="fs-body">
        <div class="pm-wrap">
          <div class="pm-media">
            <div class="pm-image-shell">
              <img id="pp-img" alt="Product image" src="" />
            </div>
            <div class="thumb-row" id="pp-thumbs"></div>
          </div>

          <div id="pp-details" style="width:100%; max-width: 720px; margin: 0 auto;">
            <div style="display:flex; justify-content:space-between; align-items:flex-start; gap: 12px; margin-bottom: 10px;">
              <div style="min-width:0;">
                <div id="pp-label" class="product-label" style="margin-bottom:8px;"></div>
                <h3 id="pp-name" style="font-size:1.15rem; font-weight:900; color:#fff; line-height:1.25; margin:0 0 6px;"></h3>
                <div id="pp-category" style="color:#9a9a9a; font-weight:700;"></div>
                <div id="pp-colors" style="color:#9a9a9a; font-weight:700; margin-top:6px;"></div>
              </div>
              <div id="pp-price" style="font-size:1.15rem; font-weight:950; color:#fff; white-space:nowrap;"></div>
            </div>

            <div class="option-label">Select Size</div>
            <div class="sizes" id="pp-sizes"></div>

            <div class="option-label">Select Color</div>
            <div class="colors" id="pp-colors-row"></div>

            <div class="quantity-wrapper">
              <div class="qty-stepper-ui" data-qty-root="pp">
                <button type="button" class="qty-btn-ui" data-qty-btn="dec" aria-label="Decrease quantity">−</button>
                <div class="qty-value-ui" data-qty-value>1</div>
                <button type="button" class="qty-btn-ui" data-qty-btn="inc" aria-label="Increase quantity">+</button>
              </div>
            </div>

            <button type="button" class="secondary-btn tap-lift" id="pp-add" disabled>Add to Bag</button>

            <div class="pm-hint" style="color:#777; text-align:center; padding: 18px 0 0; font-size: 0.9rem;">
              Swipe images • Select size &amp; color • Add to Bag
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- SHOP -->
    <section id="shop" class="shop">
      <h2 class="section-title purple-title aligned-title">Shop</h2>

      <div class="horizontal-scroll">
        <!-- Tank-top -->
        <div class="product tap-lift" data-name="FAIDE Essentials Tank" data-price="199.99">
          <div class="product-img-container">
            <img src="/images/tank-top.png" alt="FAIDE Essentials Tank" class="product-img" />
          </div>
          <div class="thumb-row" data-thumb-row></div>

          <div class="product-info">
            <div class="product-label">Just In</div>

            <div class="product-header">
              <div class="product-name-wrapper">
                <h3>FAIDE Essentials Tank</h3>
                <div class="product-category">UNISEX Tank Top</div>
                <div class="product-colors-count">2 Colors</div>
              </div>
              <p class="price">R199.99</p>
            </div>

            <div class="options" aria-label="Tank options">
              <div class="option-label">Select Size</div>
              <div class="sizes">
                <button type="button" class="size-btn tap-lift" data-size="S">S</button>
                <button type="button" class="size-btn tap-lift" data-size="M">M</button>
                <button type="button" class="size-btn tap-lift" data-size="L">L</button>
                <button type="button" class="size-btn tap-lift" data-size="XL">XL</button>
              </div>

              <div class="option-label">Select Color</div>
              <div class="colors">
                <div class="color black tap-lift" role="button" tabindex="0" aria-label="Black" data-color="Black"></div>
                <div class="color white tap-lift" role="button" tabindex="0" aria-label="White" data-color="White"></div>
              </div>

              <div class="quantity-wrapper">
                <div class="qty-stepper-ui" data-qty-root="card">
                  <button type="button" class="qty-btn-ui tap-lift" data-qty-btn="dec" aria-label="Decrease quantity">−</button>
                  <div class="qty-value-ui" data-qty-value>1</div>
                  <button type="button" class="qty-btn-ui tap-lift" data-qty-btn="inc" aria-label="Increase quantity">+</button>
                </div>
              </div>

              <button type="button" class="secondary-btn add-to-cart tap-lift" disabled>Add to Bag</button>
            </div>
          </div>
        </div>

        <!-- T-shirt -->
        <div class="product tap-lift" data-name="FAIDE Signature Tee" data-price="349.99">
          <div class="product-img-container">
            <img src="/images/tshirt.png" alt="FAIDE Signature Tee" class="product-img" />
          </div>
          <div class="thumb-row" data-thumb-row></div>

          <div class="product-info">
            <div class="product-label">Bestseller</div>

            <div class="product-header">
              <div class="product-name-wrapper">
                <h3>FAIDE Signature Tee</h3>
                <div class="product-category">UNISEX Short-Sleeve Top</div>
                <div class="product-colors-count">3 Colors</div>
              </div>
              <p class="price">R349.99</p>
            </div>

            <div class="options" aria-label="Tee options">
              <div class="option-label">Select Size</div>
              <div class="sizes">
                <button type="button" class="size-btn tap-lift" data-size="S">S</button>
                <button type="button" class="size-btn tap-lift" data-size="M">M</button>
                <button type="button" class="size-btn tap-lift" data-size="L">L</button>
                <button type="button" class="size-btn tap-lift" data-size="XL">XL</button>
              </div>

              <div class="option-label">Select Color</div>
              <div class="colors">
                <div class="color black tap-lift" role="button" tabindex="0" aria-label="Black" data-color="Black"></div>
                <div class="color white tap-lift" role="button" tabindex="0" aria-label="White" data-color="White"></div>
                <div class="color grey tap-lift" role="button" tabindex="0" aria-label="Grey" data-color="Grey"></div>
              </div>

              <div class="quantity-wrapper">
                <div class="qty-stepper-ui" data-qty-root="card">
                  <button type="button" class="qty-btn-ui tap-lift" data-qty-btn="dec" aria-label="Decrease quantity">−</button>
                  <div class="qty-value-ui" data-qty-value>1</div>
                  <button type="button" class="qty-btn-ui tap-lift" data-qty-btn="inc" aria-label="Increase quantity">+</button>
                </div>
              </div>

              <button type="button" class="secondary-btn add-to-cart tap-lift" disabled>Add to Bag</button>
            </div>
          </div>
        </div>

        <!-- Long Sleeve -->
        <div class="product tap-lift" data-name="FAIDE Long Sleeve" data-price="549.99">
          <div class="product-img-container">
            <img src="/images/longsleeve.png" alt="FAIDE Long Sleeve" class="product-img" />
          </div>
          <div class="thumb-row" data-thumb-row></div>

          <div class="product-info">
            <div class="product-label">Member Exclusive</div>

            <div class="product-header">
              <div class="product-name-wrapper">
                <h3>FAIDE Long Sleeve</h3>
                <div class="product-category">UNISEX Long Sleeve</div>
                <div class="product-colors-count">2 Colors</div>
              </div>
              <p class="price">R549.99</p>
            </div>

            <div class="options" aria-label="Long sleeve options">
              <div class="option-label">Select Size</div>
              <div class="sizes">
                <button type="button" class="size-btn tap-lift" data-size="S">S</button>
                <button type="button" class="size-btn tap-lift" data-size="M">M</button>
                <button type="button" class="size-btn tap-lift" data-size="L">L</button>
                <button type="button" class="size-btn tap-lift" data-size="XL">XL</button>
              </div>

              <div class="option-label">Select Color</div>
              <div class="colors">
                <div class="color black tap-lift" role="button" tabindex="0" aria-label="Black" data-color="Black"></div>
                <div class="color white tap-lift" role="button" tabindex="0" aria-label="White" data-color="White"></div>
              </div>

              <div class="quantity-wrapper">
                <div class="qty-stepper-ui" data-qty-root="card">
                  <button type="button" class="qty-btn-ui tap-lift" data-qty-btn="dec" aria-label="Decrease quantity">−</button>
                  <div class="qty-value-ui" data-qty-value>1</div>
                  <button type="button" class="qty-btn-ui tap-lift" data-qty-btn="inc" aria-label="Increase quantity">+</button>
                </div>
              </div>

              <button type="button" class="secondary-btn add-to-cart tap-lift" disabled>Add to Bag</button>
            </div>
          </div>
        </div>

        <!-- Hoodie -->
        <div class="product tap-lift" data-name="FAIDE Luxury Hoodie" data-price="699.99">
          <div class="product-img-container">
            <img src="/images/hoodie.png" alt="FAIDE Luxury Hoodie" class="product-img" />
          </div>
          <div class="thumb-row" data-thumb-row></div>

          <div class="product-info">
            <div class="product-label">Premium</div>

            <div class="product-header">
              <div class="product-name-wrapper">
                <h3>FAIDE Luxury Hoodie</h3>
                <div class="product-category">UNISEX Pullover Hoodie</div>
                <div class="product-colors-count">2 Colors</div>
              </div>
              <p class="price">R699.99</p>
            </div>

            <div class="options" aria-label="Hoodie options">
              <div class="option-label">Select Size</div>
              <div class="sizes">
                <button type="button" class="size-btn tap-lift" data-size="S">S</button>
                <button type="button" class="size-btn tap-lift" data-size="M">M</button>
                <button type="button" class="size-btn tap-lift" data-size="L">L</button>
                <button type="button" class="size-btn tap-lift" data-size="XL">XL</button>
              </div>

              <div class="option-label">Select Color</div>
              <div class="colors">
                <div class="color black tap-lift" role="button" tabindex="0" aria-label="Black" data-color="Black"></div>
                <div class="color grey tap-lift" role="button" tabindex="0" aria-label="Grey" data-color="Grey"></div>
              </div>

              <div class="quantity-wrapper">
                <div class="qty-stepper-ui" data-qty-root="card">
                  <button type="button" class="qty-btn-ui tap-lift" data-qty-btn="dec" aria-label="Decrease quantity">−</button>
                  <div class="qty-value-ui" data-qty-value>1</div>
                  <button type="button" class="qty-btn-ui tap-lift" data-qty-btn="inc" aria-label="Increase quantity">+</button>
                </div>
              </div>

              <button type="button" class="secondary-btn add-to-cart tap-lift" disabled>Add to Bag</button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- ✅ Divider between Shop and About -->
    <div class="section-divider" aria-hidden="true"></div>

    <!-- ABOUT -->
    <section id="about" class="about">
      <h2 class="section-title purple-title" id="about-title">About FAIDE</h2>
      <p id="about-description">
        FAIDE is a luxury streetwear brand built for those who move in silence. Designed with intention. Worn with purpose.
      </p>

      <div class="about-contact">
        <h4>Contact</h4>
        <a href="mailto:faideclothingsa@gmail.com" class="tap-lift">faideclothingsa@gmail.com</a>
        <a href="tel:+27695603929" class="tap-lift">+27 69 560 3929</a>
      </div>
    </section>

    <!-- FOOTER -->
    <footer id="footer" style="background:#0a0a0a; border-top:1px solid var(--border); padding: 42px 32px 40px;">
      <div style="max-width: 1200px; margin: 0 auto;">
        <div class="footer-legal">
          <div class="footer-legal-top" aria-label="Policies">
            <a href="#" id="privacy-link" class="footer-legal-link tap-lift">Privacy Policy</a>
            <span class="footer-sep">|</span>
            <a href="#" id="shipping-link" class="footer-legal-link tap-lift">Shipping Policy</a>
            <span class="footer-sep">|</span>
            <a href="#" id="terms-link" class="footer-legal-link tap-lift">Terms of Service</a>
            <span class="footer-sep">|</span>
            <a href="#" id="returns-link" class="footer-legal-link tap-lift">Return and exchange</a>
          </div>

          <p style="color:#666; font-size:0.95rem; margin: 6px 0 0; text-align:center;">
            © 2026 FAIDE. All rights reserved.
          </p>
        </div>
      </div>
    </footer>

    <!-- Policy Modal (kept as-is) -->
    <div
      id="policy-modal"
      role="dialog"
      aria-modal="true"
      aria-labelledby="modal-title"
      style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.9); z-index:3000; overflow-y:auto; padding:40px 20px;"
    >
      <div style="max-width:800px; margin:0 auto; background:#0a0a0a; border-radius:20px; border:1px solid var(--border); overflow:hidden;">
        <div style="background:var(--surface); padding:24px; display:flex; justify-content:space-between; align-items:center; border-bottom:1px solid var(--border);">
          <h2 id="modal-title" style="color:var(--primary); font-size:1.5rem; font-weight:700; margin:0;">Policy</h2>
          <button id="close-modal" type="button" class="tap-lift" style="background:transparent; border:none; color:#888; cursor:pointer; padding:8px; display:flex; align-items:center; justify-content:center; border-radius:8px; transition:all 0.3s ease;">
            <svg width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
              <path d="M23.954 21.03l-9.184-9.095 9.092-9.174-2.832-2.807-9.09 9.179-9.176-9.088-2.81 2.81 9.186 9.105-9.095 9.184 2.81 2.81 9.112-9.192 9.18 9.1z"/>
            </svg>
          </button>
        </div>
        <div id="modal-content" style="padding:32px; color:#ccc; line-height:1.8;"></div>
      </div>
    </div>

    <!-- Cart overlay -->
    <div id="cart-overlay" class="cart-overlay" aria-hidden="true"></div>

    <!-- Floating Cart Button -->
    <button id="floating-cart" class="floating-cart tap-lift" aria-label="View shopping cart" type="button">
      <svg width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
        <path d="M10 19.5c0 .829-.672 1.5-1.5 1.5s-1.5-.671-1.5-1.5c0-.828.672-1.5 1.5-1.5s1.5.672 1.5 1.5zm3.5-1.5c-.828 0-1.5.671-1.5 1.5s.672 1.5 1.5 1.5 1.5-.671 1.5-1.5c0-.828-.672-1.5-1.5-1.5zm6.304-15l-3.431 12h-2.102l2.542-9h-16.813l4.615 11h13.239l3.474-12h1.929l.743-2h-4.196z"/>
      </svg>
      <span id="cart-count" class="cart-count">0</span>
    </button>

    <!-- Cart Sidebar -->
    <div id="cart-sidebar" class="cart-sidebar" aria-label="Shopping cart">
      <div class="cart-header">
        <h2>Your Cart</h2>
        <button id="close-cart" class="close-cart tap-lift" aria-label="Close cart" type="button">
          <svg width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
            <path d="M23.954 21.03l-9.184-9.095 9.092-9.174-2.832-2.807-9.09 9.179-9.176-9.088-2.81 2.81 9.186 9.105-9.095 9.184 2.81 2.81 9.112-9.192 9.18 9.1z"/>
          </svg>
        </button>
      </div>

      <ul id="cart-items" class="cart-items"></ul>

      <div class="cart-footer">
        <div class="cart-total-row">
          <span class="cart-total-label">Total:</span>
          <span class="cart-total-value">R<span id="cart-total">0.00</span></span>
        </div>

        <button class="checkout-btn tap-lift" id="checkout-btn" type="button" disabled title="Add items to checkout">
          Proceed to Checkout
        </button>
      </div>
    </div>

    <!-- Cart Toast -->
    <div class="cart-toast" id="cartToast" role="status" aria-live="polite">
      <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
        <path d="M10 19.5c0 .829-.672 1.5-1.5 1.5s-1.5-.671-1.5-1.5c0-.828.672-1.5 1.5-1.5s1.5.672 1.5 1.5zm3.5-1.5c-.828 0-1.5.671-1.5 1.5s.672 1.5 1.5 1.5 1.5-.671 1.5-1.5c0-.828-.672-1.5-1.5-1.5zm6.304-15l-3.431 12h-2.102l2.542-9h-16.813l4.615 11h13.239l3.474-12h1.929l.743-2h-4.196z"/>
      </svg>
      <span id="cartMessage">Added to cart!</span>
    </div>

    <script>
      /*************************************************************
       * ✅ SINGLE shared helper (removed duplicate)
       *************************************************************/
      function clickOnEnterSpace(el, fn) {
        el.addEventListener("keydown", (e) => {
          if (e.key === "Enter" || e.key === " ") {
            e.preventDefault();
            fn();
          }
        });
      }

      /*************************************************************
       * ✅ History helpers (Back gesture support)
       *************************************************************/
      function pushOverlayState(type, payload = {}) {
        try {
          history.pushState({ __faide_overlay: type, ...payload }, "");
        } catch (_) {}
      }
      function currentOverlayType() {
        return history.state && history.state.__faide_overlay ? history.state.__faide_overlay : null;
      }

      /*************************************************************
       * CONFIG (Element SDK)
       *************************************************************/
      const defaultConfig = {
        brand_name: "FAIDE",
        hero_title: "NEW DROP",
        hero_description: "New drops, exclusive releases, and updates are announced on our social platforms.",
        about_headline: "About FAIDE",
        about_description:
          "FAIDE is a luxury streetwear brand built for those who move in silence. Designed with intention. Worn with purpose.",
        background_color: "#000000",
        surface_color: "#111111",
        text_color: "#ffffff",
        primary_accent: "#a855f7",
        secondary_accent: "#9333ea",
        font_family: "Inter",
        font_size: 16
      };

      function setCSSVar(name, value) {
        if (!value) return;
        document.documentElement.style.setProperty(name, value);
      }

      async function onConfigChange(config) {
        const heroTitle = config.hero_title || defaultConfig.hero_title;
        const heroDescription = config.hero_description || defaultConfig.hero_description;

        const aboutHeadline = config.about_headline || defaultConfig.about_headline;
        const aboutDescription = config.about_description || defaultConfig.about_description;

        const backgroundColor = config.background_color || defaultConfig.background_color;
        const surfaceColor = config.surface_color || defaultConfig.surface_color;
        const textColor = config.text_color || defaultConfig.text_color;
        const primaryAccent = config.primary_accent || defaultConfig.primary_accent;
        const secondaryAccent = config.secondary_accent || defaultConfig.secondary_accent;
        const customFont = config.font_family || defaultConfig.font_family;

        const heroTitleEl = document.getElementById("hero-title");
        const heroDescEl = document.getElementById("hero-description");
        if (heroTitleEl) heroTitleEl.textContent = heroTitle;
        if (heroDescEl) heroDescEl.textContent = heroDescription;

        const aboutTitleEl = document.getElementById("about-title");
        const aboutDescEl = document.getElementById("about-description");
        if (aboutTitleEl) aboutTitleEl.textContent = aboutHeadline;
        if (aboutDescEl) aboutDescEl.textContent = aboutDescription;

        setCSSVar("--bg", backgroundColor);
        setCSSVar("--surface", surfaceColor);
        setCSSVar("--text", textColor);
        setCSSVar("--primary", primaryAccent);
        setCSSVar("--secondary", secondaryAccent);

        document.body.style.fontFamily = `${customFont}, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif`;

        /* ✅ remove purple title glow injection */
        const heroTitleNode = document.querySelector(".hero-title");
        if (heroTitleNode) heroTitleNode.style.textShadow = "none";
      }

      function mapToCapabilities(config) {
        return {
          recolorables: [
            { get: () => config.background_color || defaultConfig.background_color, set: (v) => window.elementSdk?.setConfig?.({ background_color: (config.background_color = v) }) },
            { get: () => config.surface_color || defaultConfig.surface_color, set: (v) => window.elementSdk?.setConfig?.({ surface_color: (config.surface_color = v) }) },
            { get: () => config.text_color || defaultConfig.text_color, set: (v) => window.elementSdk?.setConfig?.({ text_color: (config.text_color = v) }) },
            { get: () => config.primary_accent || defaultConfig.primary_accent, set: (v) => window.elementSdk?.setConfig?.({ primary_accent: (config.primary_accent = v) }) },
            { get: () => config.secondary_accent || defaultConfig.secondary_accent, set: (v) => window.elementSdk?.setConfig?.({ secondary_accent: (config.secondary_accent = v) }) },
          ],
          borderables: [],
          fontEditable: { get: () => config.font_family || defaultConfig.font_family, set: (v) => window.elementSdk?.setConfig?.({ font_family: (config.font_family = v) }) },
          fontSizeable: { get: () => config.font_size || defaultConfig.font_size, set: (v) => window.elementSdk?.setConfig?.({ font_size: (config.font_size = v) }) },
        };
      }

      function mapToEditPanelValues(config) {
        return new Map([
          ["brand_name", config.brand_name || defaultConfig.brand_name],
          ["hero_title", config.hero_title || defaultConfig.hero_title],
          ["hero_description", config.hero_description || defaultConfig.hero_description],
          ["about_headline", config.about_headline || defaultConfig.about_headline],
          ["about_description", config.about_description || defaultConfig.about_description]
        ]);
      }

      async function waitForElementSdk(timeoutMs = 2500) {
        const start = Date.now();
        while (!window.elementSdk) {
          if (Date.now() - start > timeoutMs) return false;
          await new Promise(r => setTimeout(r, 50));
        }
        return true;
      }

      (async () => {
        const ready = await waitForElementSdk();
        if (ready) {
          window.elementSdk.init({ defaultConfig, onConfigChange, mapToCapabilities, mapToEditPanelValues });
        } else {
          onConfigChange({ ...defaultConfig });
        }
      })();

      /*************************************************************
       * ✅ PRODUCT ALT IMAGES (used by Product Page)
       *************************************************************/
      function buildVariantSrc(baseSrc, n) {
        const qIndex = baseSrc.indexOf("?");
        const clean = qIndex >= 0 ? baseSrc.slice(0, qIndex) : baseSrc;
        const query = qIndex >= 0 ? baseSrc.slice(qIndex) : "";

        const dot = clean.lastIndexOf(".");
        if (dot < 0) return baseSrc;
        const left = clean.slice(0, dot);
        const ext = clean.slice(dot);
        return `${left}${n}${ext}${query}`;
      }

      function imageExists(src, timeoutMs = 900) {
        return new Promise((resolve) => {
          const img = new Image();
          let done = false;

          const finish = (ok) => {
            if (done) return;
            done = true;
            resolve(ok);
          };

          const t = setTimeout(() => finish(false), timeoutMs);

          img.onload = () => { clearTimeout(t); finish(true); };
          img.onerror = () => { clearTimeout(t); finish(false); };
          img.src = src;
        });
      }

      /*************************************************************
       * ✅ CART MEMORY (localStorage)
       *************************************************************/
      const CART_STORAGE_KEY = "faide_cart_v1";
      function loadCartFromStorage(){
        try{
          const raw = localStorage.getItem(CART_STORAGE_KEY);
          const parsed = raw ? JSON.parse(raw) : [];
          return Array.isArray(parsed) ? parsed : [];
        }catch(_){
          return [];
        }
      }
      function saveCartToStorage(nextCart){
        try{
          localStorage.setItem(CART_STORAGE_KEY, JSON.stringify(nextCart || []));
        }catch(_){}
      }

      /*************************************************************
       * CART + WHATSAPP CHECKOUT
       *************************************************************/
      const WHATSAPP_NUMBER = "27695603929";
      let cart = [];

      function showCartToast(message) {
        const toast = document.getElementById("cartToast");
        const messageEl = document.getElementById("cartMessage");
        if (!toast || !messageEl) return;
        messageEl.textContent = message;
        toast.classList.add("show");
        clearTimeout(window.__toastTimer);
        window.__toastTimer = setTimeout(() => toast.classList.remove("show"), 3000);
      }

      function checkoutOnWhatsApp() {
        if (!cart || cart.length === 0) return showCartToast("Your cart is empty.");

        const lines = [];
        lines.push("Hi FAIDE, I want to place an order:");
        lines.push("");

        let total = 0;

        cart.forEach((item, i) => {
          const lineTotal = item.price * item.quantity;
          total += lineTotal;
          lines.push(`${i + 1}) ${item.name} | Size: ${item.size} | Color: ${item.color} | Qty: ${item.quantity} | R${lineTotal.toFixed(2)}`);
        });

        lines.push("");
        lines.push(`TOTAL: R${total.toFixed(2)}`);
        lines.push("");
        lines.push("Name:");
        lines.push("(Type here)");
        lines.push("");
        lines.push("Delivery address:");
        lines.push("(Type here)");

        const message = encodeURIComponent(lines.join("\n"));
        window.open(`https://wa.me/${WHATSAPP_NUMBER}?text=${message}`, "_blank", "noopener,noreferrer");
      }

      /*************************************************************
       * POLICY MODAL
       *************************************************************/
      const policyModal = document.getElementById("policy-modal");
      const modalTitle = document.getElementById("modal-title");
      const modalContent = document.getElementById("modal-content");
      const closeModal = document.getElementById("close-modal");

      const policies = {
        privacy: {
          title: "Privacy Policy",
          content: `
            <p style="margin-bottom:14px;"><strong>FAIDE Privacy Policy</strong></p>
            <p style="margin-bottom:14px;">We respect your privacy. This policy explains what information we collect, why we collect it, and how we use it.</p>
            <h3 style="color:#fff; font-size:1.05rem; margin:18px 0 8px;">What we collect</h3>
            <ul style="margin-left:18px; margin-bottom:14px;">
              <li>Contact details you provide (name, phone number, email).</li>
              <li>Order details (items, size, color, quantity, delivery address).</li>
              <li>Basic site analytics (to improve performance and experience).</li>
            </ul>
            <h3 style="color:#fff; font-size:1.05rem; margin:18px 0 8px;">How we use it</h3>
            <ul style="margin-left:18px; margin-bottom:14px;">
              <li>To process and fulfill your order.</li>
              <li>To communicate about your order (shipping updates, questions).</li>
              <li>To improve the website and product experience.</li>
            </ul>
            <h3 style="color:#fff; font-size:1.05rem; margin:18px 0 8px;">Your choices</h3>
            <p style="margin-bottom:14px;">You can request to update or delete your information by contacting us at <a style="color:var(--primary); text-decoration:none;" href="mailto:faideclothingsa@gmail.com">faideclothingsa@gmail.com</a>.</p>
          `
        },
        terms: {
          title: "Terms of Service",
          content: `
            <p style="margin-bottom:14px;"><strong>FAIDE Terms of Service</strong></p>
            <p style="margin-bottom:14px;">By using this website and placing an order, you agree to the terms below.</p>
            <h3 style="color:#fff; font-size:1.05rem; margin:18px 0 8px;">Orders</h3>
            <ul style="margin-left:18px; margin-bottom:14px;">
              <li>Orders are confirmed via WhatsApp after you submit your cart.</li>
              <li>We may contact you if we need size/color confirmation or address clarification.</li>
            </ul>
            <h3 style="color:#fff; font-size:1.05rem; margin:18px 0 8px;">Pricing</h3>
            <p style="margin-bottom:14px;">Prices are listed in ZAR (R). We reserve the right to correct errors and update pricing.</p>
            <h3 style="color:#fff; font-size:1.05rem; margin:18px 0 8px;">Availability</h3>
            <p style="margin-bottom:14px;">Stock availability may change. If an item is unavailable, we’ll offer an alternative or refund.</p>
          `
        },
        returns: {
          title: "Returns & Exchanges",
          content: `
            <p style="margin-bottom:14px;"><strong>Returns & Exchanges</strong></p>
            <p style="margin-bottom:14px;">If something isn’t right, we’ll work with you.</p>
            <h3 style="color:#fff; font-size:1.05rem; margin:18px 0 8px;">Eligibility</h3>
            <ul style="margin-left:18px; margin-bottom:14px;">
              <li>Items must be unworn, unwashed, and in original condition.</li>
              <li>Request must be made within 7 days of delivery.</li>
            </ul>
            <h3 style="color:#fff; font-size:1.05rem; margin:18px 0 8px;">Exchanges</h3>
            <p style="margin-bottom:14px;">Size exchanges are accepted if stock is available.</p>
            <h3 style="color:#fff; font-size:1.05rem; margin:18px 0 8px;">How to request</h3>
            <p style="margin-bottom:14px;">Contact us on WhatsApp or email with your order details.</p>
          `
        },
        shipping: {
          title: "Shipping Policy",
          content: `
            <p style="margin-bottom:14px;"><strong>Shipping Policy</strong></p>
            <p style="margin-bottom:14px;">We ship orders within South Africa. Delivery times depend on your location.</p>
            <h3 style="color:#fff; font-size:1.05rem; margin:18px 0 8px;">Processing time</h3>
            <p style="margin-bottom:14px;">Orders are typically processed within 1–3 business days after confirmation.</p>
            <h3 style="color:#fff; font-size:1.05rem; margin:18px 0 8px;">Delivery</h3>
            <ul style="margin-left:18px; margin-bottom:14px;">
              <li>Estimated delivery: 2–7 business days (varies by region).</li>
              <li>Tracking may be provided depending on courier service.</li>
            </ul>
            <p style="margin-bottom:14px;">Questions? Email <a style="color:var(--primary); text-decoration:none;" href="mailto:faideclothingsa@gmail.com">faideclothingsa@gmail.com</a></p>
          `
        },
      };

      let lastFocusedEl = null;

      function showPolicy(policyType) {
        const policy = policies[policyType];
        if (!policy) return;
        lastFocusedEl = document.activeElement;

        if (modalTitle) modalTitle.textContent = policy.title;
        if (modalContent) modalContent.innerHTML = policy.content;
        if (policyModal) policyModal.style.display = "block";

        document.body.classList.add("lock-scroll");
        setTimeout(() => closeModal?.focus(), 0);

        // ✅ Back gesture closes policy
        pushOverlayState("policy");
      }

      function hidePolicy({ fromPop = false } = {}) {
        if (policyModal) policyModal.style.display = "none";
        document.body.classList.remove("lock-scroll");
        if (lastFocusedEl && typeof lastFocusedEl.focus === "function") lastFocusedEl.focus();

        if (!fromPop && currentOverlayType() === "policy") {
          history.back();
        }
      }

      function onClick(id, fn) {
        const el = document.getElementById(id);
        if (!el) return;
        el.addEventListener("click", (e) => { e.preventDefault(); fn(); });
      }

      onClick("privacy-link", () => showPolicy("privacy"));
      onClick("terms-link", () => showPolicy("terms"));
      onClick("returns-link", () => showPolicy("returns"));
      onClick("shipping-link", () => showPolicy("shipping"));

      closeModal?.addEventListener("click", () => hidePolicy());
      policyModal?.addEventListener("click", (e) => { if (e.target === policyModal) hidePolicy(); });

      /*************************************************************
       * ✅ Helpers: Nav scroll + active state
       *************************************************************/
      function getNavOffsetPx() {
        const nav = document.querySelector(".navbar");
        const navH = nav?.getBoundingClientRect?.().height || parseFloat(getComputedStyle(document.documentElement).getPropertyValue("--nav-h")) || 86;
        return Math.round(navH + 18);
      }

      function scrollToSectionId(id) {
        const el = document.getElementById(id);
        if (!el) return;
        const top = el.getBoundingClientRect().top + window.pageYOffset - getNavOffsetPx();
        window.scrollTo({ top, behavior: "smooth" });
      }

      /*************************************************************
       * ✅ Qty stepper
       *************************************************************/
      function setupQtyStepper(rootEl, { onChange } = {}) {
        const valueEl = rootEl.querySelector("[data-qty-value]");
        const incBtn = rootEl.querySelector('[data-qty-btn="inc"]');
        const decBtn = rootEl.querySelector('[data-qty-btn="dec"]');
        if (!valueEl || !incBtn || !decBtn) return;

        let qty = 1;
        let holdTimer = null;
        let holdInterval = null;
        let speed = 180;

        const render = () => {
          valueEl.textContent = String(qty);
          onChange?.(qty);
        };

        const setQty = (next) => {
          qty = Math.max(1, next);
          render();
        };

        const step = (dir) => setQty(qty + dir);

        const stopHold = () => {
          clearTimeout(holdTimer);
          clearInterval(holdInterval);
          holdTimer = null;
          holdInterval = null;
          speed = 180;
        };

        const startHold = (dir) => {
          stopHold();
          holdTimer = setTimeout(() => {
            holdInterval = setInterval(() => {
              step(dir);
              if (speed > 65) speed -= 10;
            }, speed);
          }, 260);
        };

        const bindBtn = (btn, dir) => {
          btn.addEventListener("click", (e) => {
            e.preventDefault();
            e.stopPropagation();
            step(dir);
          });

          const start = (e) => {
            e.preventDefault();
            e.stopPropagation();
            startHold(dir);
            step(dir);
          };

          btn.addEventListener("mousedown", start);
          btn.addEventListener("touchstart", start, { passive: false });

          ["mouseup", "mouseleave", "touchend", "touchcancel"].forEach((ev) => {
            btn.addEventListener(ev, stopHold, { passive: true });
          });
        };

        bindBtn(incBtn, +1);
        bindBtn(decBtn, -1);

        return { getQty: () => qty, setQty };
      }

      /*************************************************************
       * MAIN DOM READY
       *************************************************************/
      document.addEventListener("DOMContentLoaded", async () => {
        const shopNowBtn = document.getElementById("shop-now-btn");
        shopNowBtn?.addEventListener("click", () => scrollToSectionId("shop"));

        const navbar = document.querySelector(".navbar");
        const navLinks = document.querySelectorAll(".nav-links a");

        function handleShrink() {
          if (!navbar) return;
          navbar.classList.toggle("shrink", window.scrollY > 20);
        }
        handleShrink();
        window.addEventListener("scroll", handleShrink, { passive: true });

        const sectionIds = ["drop", "lookbook", "shop", "about"];
        const sections = sectionIds.map(id => document.getElementById(id)).filter(Boolean);

        const linkById = new Map();
        navLinks.forEach(a => {
          const href = a.getAttribute("href") || "";
          if (href.startsWith("#")) linkById.set(href.slice(1), a);
        });

        function setActive(id) {
          navLinks.forEach(a => a.classList.remove("active"));
          linkById.get(id)?.classList.add("active");
        }

        let navLock = false;
        let navUnlockTimer = null;

        navLinks.forEach((a) => {
          a.addEventListener("click", (e) => {
            const href = a.getAttribute("href") || "";
            if (!href.startsWith("#")) return;
            const id = href.slice(1);
            if (!id) return;

            e.preventDefault();

            navLock = true;
            clearTimeout(navUnlockTimer);
            setActive(id);
            scrollToSectionId(id);

            navUnlockTimer = setTimeout(() => { navLock = false; }, 650);
          });
        });

        let raf = null;
        function updateActiveFromScroll() {
          if (navLock) return;

          const refY = window.scrollY + getNavOffsetPx() + 10;
          let current = sections[0]?.id || "drop";

          for (const sec of sections) {
            if (!sec) continue;
            const top = sec.offsetTop;
            if (top <= refY) current = sec.id;
          }
          setActive(current);
        }

        function onScroll() {
          if (raf) return;
          raf = requestAnimationFrame(() => {
            raf = null;
            updateActiveFromScroll();
          });
        }
        updateActiveFromScroll();
        window.addEventListener("scroll", onScroll, { passive: true });
        window.addEventListener("resize", () => { updateActiveFromScroll(); }, { passive: true });

        /*************************************************************
         * CART (with Back gesture)
         *************************************************************/
        const products = document.querySelectorAll(".product");
        const floatingCart = document.getElementById("floating-cart");
        const cartSidebar = document.getElementById("cart-sidebar");
        const cartOverlay = document.getElementById("cart-overlay");
        const closeCart = document.getElementById("close-cart");
        const cartItemsEl = document.getElementById("cart-items");
        const cartTotalEl = document.getElementById("cart-total");
        const cartCountEl = document.getElementById("cart-count");
        const checkoutBtn = document.getElementById("checkout-btn");

        cart = loadCartFromStorage();

        function openCart() {
          cartSidebar?.classList.add("active");
          cartOverlay?.classList.add("active");
          document.body.classList.add("lock-scroll");
          pushOverlayState("cart");
        }

        function closeCartPanel({ fromPop = false } = {}) {
          cartSidebar?.classList.remove("active");
          cartOverlay?.classList.remove("active");
          document.body.classList.remove("lock-scroll");

          if (!fromPop && currentOverlayType() === "cart") {
            history.back();
          }
        }

        floatingCart?.addEventListener("click", openCart);
        closeCart?.addEventListener("click", () => closeCartPanel());
        cartOverlay?.addEventListener("click", () => closeCartPanel());

        checkoutBtn?.addEventListener("click", (e) => {
          if (checkoutBtn.disabled) {
            e.preventDefault();
            return showCartToast("Add items to checkout.");
          }
          checkoutOnWhatsApp();
        });

        function setCheckoutState() {
          const empty = cart.length === 0;
          if (!checkoutBtn) return;
          checkoutBtn.disabled = empty;
          checkoutBtn.title = empty ? "Add items to checkout" : "Proceed to WhatsApp checkout";
        }

        function updateCartUI() {
          if (!cartItemsEl || !cartTotalEl || !cartCountEl) return;

          saveCartToStorage(cart);

          cartItemsEl.innerHTML = "";
          let total = 0;
          let itemCount = 0;

          if (cart.length === 0) {
            cartItemsEl.innerHTML =
              '<li style="text-align:center;color:#666;border:none;background:transparent;padding:14px 0;">Your cart is empty</li>';
            cartTotalEl.textContent = "0.00";
            cartCountEl.textContent = "0";
            setCheckoutState();
            return;
          }

          cart.forEach((item, idx) => {
            const lineTotal = item.price * item.quantity;
            total += lineTotal;
            itemCount += item.quantity;

            const li = document.createElement("li");
            li.className = "cart-item";

            li.innerHTML = `
              <img class="cart-item-img" src="${item.image || ""}" alt="${item.name}" onerror="this.style.display='none';" />
              <div class="cart-item-info">
                <div class="cart-item-title">${item.name}</div>
                <div class="cart-item-meta">Size: ${item.size} • Color: ${item.color}</div>
                <div class="cart-item-price">R${lineTotal.toFixed(2)}</div>
              </div>
              <div class="cart-item-actions">
                <div class="qty-stepper" aria-label="Quantity controls">
                  <div class="qty-stepper-inner">
                    <button type="button" class="qty-btn" data-action="dec" aria-label="Decrease quantity">−</button>
                    <div class="qty-value" aria-label="Quantity">${item.quantity}</div>
                    <button type="button" class="qty-btn" data-action="inc" aria-label="Increase quantity">+</button>
                  </div>
                </div>
                <button type="button" class="remove-btn" data-action="remove" aria-label="Remove item">Remove</button>
              </div>
            `;

            li.querySelector('[data-action="dec"]').addEventListener("click", () => {
              item.quantity = Math.max(1, item.quantity - 1);
              updateCartUI();
            });

            li.querySelector('[data-action="inc"]').addEventListener("click", () => {
              item.quantity += 1;
              updateCartUI();
            });

            li.querySelector('[data-action="remove"]').addEventListener("click", () => {
              cart.splice(idx, 1);
              updateCartUI();
            });

            cartItemsEl.appendChild(li);
          });

          cartTotalEl.textContent = total.toFixed(2);
          cartCountEl.textContent = String(itemCount);

          setCheckoutState();
        }

        products.forEach((product) => {
          const stepperRoot = product.querySelector('.qty-stepper-ui[data-qty-root="card"]');
          const stepper = stepperRoot ? setupQtyStepper(stepperRoot) : null;

          const sizeButtons = product.querySelectorAll(".size-btn");
          const colorOptions = product.querySelectorAll(".color");
          const addToCartBtn = product.querySelector(".add-to-cart");

          const updateAddBtn = () => {
            if (!addToCartBtn) return;
            const selectedSize = product.querySelector(".size-btn.selected");
            const selectedColor = product.querySelector(".color.selected");
            addToCartBtn.disabled = !(selectedSize && selectedColor);
          };

          sizeButtons.forEach((btn) => {
            btn.addEventListener("click", (e) => {
              e.stopPropagation();
              sizeButtons.forEach((b) => b.classList.remove("selected"));
              btn.classList.add("selected");
              product.classList.add("expanded");
              updateAddBtn();
            });
          });

          colorOptions.forEach((color) => {
            const select = (e) => {
              e?.stopPropagation?.();
              colorOptions.forEach((c) => c.classList.remove("selected"));
              color.classList.add("selected");
              product.classList.add("expanded");
              updateAddBtn();
            };
            color.addEventListener("click", select);
            clickOnEnterSpace(color, select);
          });

          updateAddBtn();

          if (!addToCartBtn) return;

          addToCartBtn.addEventListener("click", (e) => {
            e.preventDefault();
            e.stopPropagation();

            const productName = product.getAttribute("data-name") || "Item";
            const price = parseFloat(product.getAttribute("data-price") || "0");

            const selectedSize = product.querySelector(".size-btn.selected");
            const selectedColor = product.querySelector(".color.selected");

            if (!selectedSize) return showCartToast("Select a size first.");
            if (!selectedColor) return showCartToast("Select a color first.");

            let quantity = stepper?.getQty?.() ?? 1;
            quantity = Math.max(1, Number.isFinite(quantity) ? quantity : 1);

            const size = selectedSize.textContent.trim();
            const colorName = selectedColor.getAttribute("data-color") || "Color";

            const imgEl = product.querySelector(".product-img");
            const image = imgEl?.getAttribute("src") || "";

            const itemKey = `${productName}-${size}-${colorName}`;
            const existing = cart.find((item) => item.key === itemKey);

            if (existing) existing.quantity += quantity;
            else cart.push({ key: itemKey, name: productName, price, size, color: colorName, quantity, image });

            updateCartUI();
            showCartToast(`Added ${quantity}x ${productName} (${size}) in ${colorName}`);

            stepper?.setQty?.(1);
          });
        });

        updateCartUI();

        /*************************************************************
         * ✅ Fullscreen Lookbook Page (replaces modal) + Zoom + Back
         *************************************************************/
        const lookbookPage = document.getElementById("lookbook-page");
        const lbImg = document.getElementById("lb-img");
        const lbClose = document.getElementById("lb-close");
        const lbSubtitle = document.getElementById("lb-subtitle");
        const lbViewport = document.getElementById("lb-viewport");

        const lookbookCards = Array.from(document.querySelectorAll(".lookbook-card"));
        const lookbookItems = lookbookCards
          .map((card) => {
            const src = card.getAttribute("data-lookbook-src") || card.querySelector("img")?.getAttribute("src") || "";
            return src ? { src } : null;
          })
          .filter(Boolean);

        let lbIndex = 0;

        let lbScale = 1;
        let lbTx = 0;
        let lbTy = 0;

        let lbDragging = false;
        let lbDragStartX = 0;
        let lbDragStartY = 0;
        let lbDragStartTx = 0;
        let lbDragStartTy = 0;

        let lbPinchStartDist = 0;
        let lbPinchStartScale = 1;
        let lbPinchMid = { x: 0, y: 0 };

        function clamp(n, min, max) { return Math.max(min, Math.min(max, n)); }

        function lbApplyTransform() {
          if (!lbImg) return;
          lbImg.style.transform = `translate3d(${lbTx}px, ${lbTy}px, 0) scale(${lbScale})`;
          lbImg.classList.toggle("zoomed", lbScale > 1.01);
        }

        function lbResetZoom() {
          lbScale = 1;
          lbTx = 0;
          lbTy = 0;
          lbApplyTransform();
        }

        function lbSet(index) {
          if (!lookbookItems.length || !lbImg) return;
          lbIndex = (index + lookbookItems.length) % lookbookItems.length;

          const item = lookbookItems[lbIndex];
          lbImg.src = item.src;
          lbSubtitle.textContent = `${lbIndex + 1} / ${lookbookItems.length}`;

          lbResetZoom();
        }

        function lbOpen(index) {
          if (!lookbookItems.length) return;
          lbSet(index);

          lookbookPage.classList.add("active");
          lookbookPage.setAttribute("aria-hidden", "false");
          document.body.classList.add("lock-scroll");

          pushOverlayState("lookbook", { index });
          lbClose?.focus();
        }

        function lbClosePage({ fromPop = false } = {}) {
          lookbookPage.classList.remove("active");
          lookbookPage.setAttribute("aria-hidden", "true");
          document.body.classList.remove("lock-scroll");
          lbResetZoom();

          if (!fromPop && currentOverlayType() === "lookbook") history.back();
        }

        lookbookCards.forEach((card, idx) => {
          card.addEventListener("click", () => lbOpen(idx));
          clickOnEnterSpace(card, () => lbOpen(idx));
        });

        lbClose?.addEventListener("click", () => lbClosePage());

        function lbToggleZoomAt(clientX, clientY) {
          if (!lbViewport) return;

          const rect = lbViewport.getBoundingClientRect();
          const x = clientX - rect.left - rect.width / 2;
          const y = clientY - rect.top - rect.height / 2;

          if (lbScale <= 1.01) {
            lbScale = 2.2;
            lbTx = -x;
            lbTy = -y;
          } else {
            lbResetZoom();
            return;
          }

          lbTx = clamp(lbTx, -rect.width * (lbScale - 1) * 0.5, rect.width * (lbScale - 1) * 0.5);
          lbTy = clamp(lbTy, -rect.height * (lbScale - 1) * 0.5, rect.height * (lbScale - 1) * 0.5);

          lbApplyTransform();
        }

        lbImg?.addEventListener("dblclick", (e) => {
          e.preventDefault();
          lbToggleZoomAt(e.clientX, e.clientY);
        });

        function distance(t1, t2) {
          const dx = t2.clientX - t1.clientX;
          const dy = t2.clientY - t1.clientY;
          return Math.hypot(dx, dy);
        }

        let lbLastTap = 0;

        lbViewport?.addEventListener("touchstart", (e) => {
          if (!lookbookPage.classList.contains("active")) return;

          const now = Date.now();
          if (e.touches.length === 1) {
            if (now - lbLastTap < 260) {
              const t = e.touches[0];
              lbToggleZoomAt(t.clientX, t.clientY);
              lbLastTap = 0;
              return;
            }
            lbLastTap = now;
          }

          if (e.touches.length === 1) {
            if (lbScale > 1.01) {
              lbDragging = true;
              lbDragStartX = e.touches[0].clientX;
              lbDragStartY = e.touches[0].clientY;
              lbDragStartTx = lbTx;
              lbDragStartTy = lbTy;
            }
          }

          if (e.touches.length === 2) {
            lbPinchStartDist = distance(e.touches[0], e.touches[1]);
            lbPinchStartScale = lbScale;
            lbPinchMid = {
              x: (e.touches[0].clientX + e.touches[1].clientX) / 2,
              y: (e.touches[0].clientY + e.touches[1].clientY) / 2
            };
          }
        }, { passive: true });

        lbViewport?.addEventListener("touchmove", (e) => {
          if (!lookbookPage.classList.contains("active") || !lbViewport) return;

          if (e.touches.length === 2) {
            const d = distance(e.touches[0], e.touches[1]);
            const next = clamp(lbPinchStartScale * (d / lbPinchStartDist), 1, 3);

            const rect = lbViewport.getBoundingClientRect();
            const cx = lbPinchMid.x - rect.left - rect.width / 2;
            const cy = lbPinchMid.y - rect.top - rect.height / 2;

            const ratio = next / lbScale;
            lbTx = (lbTx - cx) * ratio + cx;
            lbTy = (lbTy - cy) * ratio + cy;
            lbScale = next;

            lbTx = clamp(lbTx, -rect.width * (lbScale - 1) * 0.5, rect.width * (lbScale - 1) * 0.5);
            lbTy = clamp(lbTy, -rect.height * (lbScale - 1) * 0.5, rect.height * (lbScale - 1) * 0.5);

            lbApplyTransform();
            return;
          }

          if (e.touches.length === 1 && lbScale > 1.01 && lbDragging) {
            const t = e.touches[0];
            const dx = t.clientX - lbDragStartX;
            const dy = t.clientY - lbDragStartY;

            const rect = lbViewport.getBoundingClientRect();
            lbTx = clamp(lbDragStartTx + dx, -rect.width * (lbScale - 1) * 0.5, rect.width * (lbScale - 1) * 0.5);
            lbTy = clamp(lbDragStartTy + dy, -rect.height * (lbScale - 1) * 0.5, rect.height * (lbScale - 1) * 0.5);

            lbApplyTransform();
          }
        }, { passive: true });

        lbViewport?.addEventListener("touchend", () => {
          lbDragging = false;
        }, { passive: true });

        /*************************************************************
         * ✅ Fullscreen Product Page (replaces modal) + Back
         *************************************************************/
        const productPage = document.getElementById("product-page");
        const ppClose = document.getElementById("pp-close");
        const ppImg = document.getElementById("pp-img");
        const ppThumbs = document.getElementById("pp-thumbs");
        const ppSubtitle = document.getElementById("pp-subtitle");

        const ppLabel = document.getElementById("pp-label");
        const ppName = document.getElementById("pp-name");
        const ppCategory = document.getElementById("pp-category");
        const ppColorsCount = document.getElementById("pp-colors");
        const ppPrice = document.getElementById("pp-price");

        const ppSizes = document.getElementById("pp-sizes");
        const ppColorsRow = document.getElementById("pp-colors-row");
        const ppAdd = document.getElementById("pp-add");

        let ppSources = [];
        let ppIndex = 0;
        let ppActiveProductEl = null;

        const ppStepperRoot = document.querySelector('.qty-stepper-ui[data-qty-root="pp"]');
        const ppStepper = ppStepperRoot ? setupQtyStepper(ppStepperRoot) : null;

        function ppOpen() {
          productPage.classList.add("active");
          productPage.setAttribute("aria-hidden", "false");
          document.body.classList.add("lock-scroll");
          ppClose?.focus();
        }

        function ppClosePage({ fromPop = false } = {}) {
          productPage.classList.remove("active");
          productPage.setAttribute("aria-hidden", "true");
          document.body.classList.remove("lock-scroll");
          ppActiveProductEl = null;

          if (!fromPop && currentOverlayType() === "product") history.back();
        }

        ppClose?.addEventListener("click", () => ppClosePage());

        function ppRenderThumbs() {
          if (!ppThumbs) return;
          ppThumbs.innerHTML = "";
          ppSources.slice(0, 4).forEach((src, i) => {
            const btn = document.createElement("button");
            btn.type = "button";
            btn.className = "thumb tap-lift" + (i === ppIndex ? " active" : "");
            btn.setAttribute("aria-label", `View image ${i + 1}`);
            btn.innerHTML = `<img src="${src}" alt="" loading="lazy" />`;
            btn.addEventListener("click", (e) => {
              e.preventDefault();
              e.stopPropagation();
              ppSetImage(i);
            });
            ppThumbs.appendChild(btn);
          });
        }

        let __ppSwapToken = 0;
        function ppSetImage(i) {
          if (!ppSources.length || !ppImg) return;
          const token = ++__ppSwapToken;

          ppIndex = (i + ppSources.length) % ppSources.length;
          const nextSrc = ppSources[ppIndex];

          if (ppImg.getAttribute("src") === nextSrc) {
            ppSubtitle.textContent = `${ppIndex + 1} / ${ppSources.length}`;
            ppRenderThumbs();
            return;
          }

          ppImg.style.opacity = "0.25";
          requestAnimationFrame(() => {
            if (token !== __ppSwapToken) return;
            ppImg.src = nextSrc;
            ppSubtitle.textContent = `${ppIndex + 1} / ${ppSources.length}`;
            ppRenderThumbs();
            setTimeout(() => {
              if (token !== __ppSwapToken) return;
              ppImg.style.opacity = "1";
            }, 60);
          });
        }

        async function ppBuildImagesFromProduct(productEl) {
          const imgEl = productEl.querySelector(".product-img");
          const base = imgEl?.getAttribute("src") || "";
          if (!base) return [""];
          const candidates = [base, buildVariantSrc(base, 2), buildVariantSrc(base, 3), buildVariantSrc(base, 4)];
          const checks = await Promise.all(candidates.map((s, i) => (i === 0 ? Promise.resolve(true) : imageExists(s))));
          return candidates.filter((_, i) => checks[i]).slice(0, 4);
        }

        function ppUpdateAddState() {
          const selectedSize = ppSizes.querySelector(".size-btn.selected");
          const selectedColor = ppColorsRow.querySelector(".color.selected");
          ppAdd.disabled = !(selectedSize && selectedColor);
        }

        function ppRenderSizes(productEl) {
          const original = Array.from(productEl.querySelectorAll(".size-btn")).map(b => b.textContent.trim());
          const sizes = original.length ? original : ["S", "M", "L", "XL"];

          ppSizes.innerHTML = "";
          sizes.forEach((s) => {
            const btn = document.createElement("button");
            btn.type = "button";
            btn.className = "size-btn tap-lift";
            btn.textContent = s;
            btn.addEventListener("click", () => {
              Array.from(ppSizes.querySelectorAll(".size-btn")).forEach(x => x.classList.remove("selected"));
              btn.classList.add("selected");
              ppUpdateAddState();
            });
            ppSizes.appendChild(btn);
          });
        }

        function ppRenderColors(productEl) {
          const original = Array.from(productEl.querySelectorAll(".color")).map(c => ({
            className: c.className,
            colorName: c.getAttribute("data-color") || "Color"
          }));

          const colors = original.length ? original : [
            { className: "color black", colorName: "Black" },
            { className: "color white", colorName: "White" },
          ];

          ppColorsRow.innerHTML = "";
          colors.forEach((c) => {
            const div = document.createElement("div");
            div.className = c.className + " tap-lift";
            div.setAttribute("role", "button");
            div.setAttribute("tabindex", "0");
            div.setAttribute("aria-label", c.colorName);
            div.setAttribute("data-color", c.colorName);

            const select = () => {
              Array.from(ppColorsRow.querySelectorAll(".color")).forEach(x => x.classList.remove("selected"));
              div.classList.add("selected");
              ppUpdateAddState();
            };

            div.addEventListener("click", select);
            clickOnEnterSpace(div, select);

            ppColorsRow.appendChild(div);
          });
        }

        function ppFillMeta(productEl) {
          const name = productEl.getAttribute("data-name") || "Item";
          const price = productEl.querySelector(".price")?.textContent?.trim() || "";
          const label = productEl.querySelector(".product-label")?.textContent?.trim() || "";

          const category = productEl.querySelector(".product-category")?.textContent?.trim() || "";
          const colorsCount = productEl.querySelector(".product-colors-count")?.textContent?.trim() || "";

          ppLabel.textContent = label;
          ppName.textContent = name;
          ppCategory.textContent = category;
          ppColorsCount.textContent = colorsCount;
          ppPrice.textContent = price;

          ppStepper?.setQty?.(1);
          ppAdd.disabled = true;
        }

        async function openProductPage(productEl) {
          ppActiveProductEl = productEl;

          ppFillMeta(productEl);
          ppRenderSizes(productEl);
          ppRenderColors(productEl);

          ppSources = await ppBuildImagesFromProduct(productEl);
          ppSetImage(0);

          ppOpen();
          pushOverlayState("product");
        }

        // swipe images on product page
        let ppTouchStartX = null;
        ppImg?.addEventListener("touchstart", (e) => {
          if (!e.touches || e.touches.length !== 1) return;
          ppTouchStartX = e.touches[0].clientX;
        }, { passive: true });

        ppImg?.addEventListener("touchend", (e) => {
          if (ppTouchStartX == null) return;
          const endX = e.changedTouches?.[0]?.clientX ?? ppTouchStartX;
          const diff = endX - ppTouchStartX;
          ppTouchStartX = null;

          if (Math.abs(diff) < 35) return;
          if (diff < 0) ppSetImage(ppIndex + 1);
          else ppSetImage(ppIndex - 1);
        }, { passive: true });

        ppAdd?.addEventListener("click", () => {
          if (!ppActiveProductEl) return;

          const productName = ppActiveProductEl.getAttribute("data-name") || "Item";
          const price = parseFloat(ppActiveProductEl.getAttribute("data-price") || "0");

          const selectedSize = ppSizes.querySelector(".size-btn.selected");
          const selectedColor = ppColorsRow.querySelector(".color.selected");

          if (!selectedSize) return showCartToast("Select a size first.");
          if (!selectedColor) return showCartToast("Select a color first.");

          let quantity = ppStepper?.getQty?.() ?? 1;
          quantity = Math.max(1, Number.isFinite(quantity) ? quantity : 1);

          const size = selectedSize.textContent.trim();
          const colorName = selectedColor.getAttribute("data-color") || "Color";
          const image = ppSources[ppIndex] || (ppActiveProductEl.querySelector(".product-img")?.getAttribute("src") || "");

          const itemKey = `${productName}-${size}-${colorName}`;
          const existing = cart.find((item) => item.key === itemKey);

          if (existing) existing.quantity += quantity;
          else cart.push({ key: itemKey, name: productName, price, size, color: colorName, quantity, image });

          updateCartUI();
          showCartToast(`Added ${quantity}x ${productName} (${size}) in ${colorName}`);
          ppClosePage();
        });

        // open product page on card tap (ignore inner controls)
        products.forEach((productEl) => {
          productEl.addEventListener("click", (e) => {
            const interactive = e.target.closest("button, input, .color, a, .sizes, .colors, .options, .thumb-row");
            if (interactive) return;
            openProductPage(productEl);
          });
        });

        /*************************************************************
         * ✅ Back gesture + ESC behavior (central)
         *************************************************************/
        window.addEventListener("popstate", (e) => {
          const t = (e.state && e.state.__faide_overlay) ? e.state.__faide_overlay : null;

          // If we popped to a state that is NOT the current open overlay, close any open overlays.
          // (This keeps Android back-swipe working even if state is null)
          if (policyModal?.style.display === "block") hidePolicy({ fromPop: true });
          if (cartSidebar?.classList.contains("active")) closeCartPanel({ fromPop: true });
          if (productPage?.classList.contains("active")) ppClosePage({ fromPop: true });
          if (lookbookPage?.classList.contains("active")) lbClosePage({ fromPop: true });

          // If pop landed on a specific overlay state, re-open that overlay (rare but safe)
          if (t === "cart") openCart();
          if (t === "policy") showPolicy("privacy"); // fallback, but shouldn't happen normally
        });

        document.addEventListener("keydown", (e) => {
          if (e.key !== "Escape") return;

          if (policyModal && policyModal.style.display === "block") return hidePolicy();
          if (productPage?.classList.contains("active")) return ppClosePage();
          if (lookbookPage?.classList.contains("active")) return lbClosePage();
          if (cartSidebar?.classList.contains("active")) return closeCartPanel();
        });
      });
    </script>

    <!-- Cloudflare snippet (kept as-is) -->
    <script>
      (function () {
        function c() {
          var b = a.contentDocument || a.contentWindow.document;
          if (b) {
            var d = b.createElement("script");
            d.innerHTML =
              "window.__CF$cv$params={r:'9c6cd97dc2926d25',t:'MTc2OTkwMDY4Mi4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";
            b.getElementsByTagName("head")[0].appendChild(d);
          }
        }
        if (document.body) {
          var a = document.createElement("iframe");
          a.height = 1;
          a.width = 1;
          a.style.position = "absolute";
          a.style.top = 0;
          a.style.left = 0;
          a.style.border = "none";
          a.style.visibility = "hidden";
          document.body.appendChild(a);
          if ("loading" !== document.readyState) c();
          else if (window.addEventListener) document.addEventListener("DOMContentLoaded", c);
          else {
            var e = document.onreadystatechange || function () {};
            document.onreadystatechange = function (b) {
              e(b);
              "loading" !== document.readyState && (document.onreadystatechange = e, c());
            };
          }
        }
      })();
    </script>
  </body>
</html>